{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import RefreshControl from\"react-native-web/dist/exports/RefreshControl\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Timeline from'react-native-timeline-flatlist';import axios from'axios';import StartButton from\"./startButton\";var Refresh=function(_Component){_inherits(Refresh,_Component);var _super=_createSuper(Refresh);function Refresh(){var _this;_classCallCheck(this,Refresh);_this=_super.call(this);_this.componentWillMount=function(){console.log(\"before MOunt Set Timer\");_this.getTimeData();};_this.getTimeData=function(){var data;axios.get('http://localhost:8080/api').then(function(response){data=response.data;console.log('Data has been recived');_this.setState({getTimeData:data});}).catch(function(){console.log('data is not recived');});return data;};_this.onEndReached=_this.onEndReached.bind(_assertThisInitialized(_this));_this.renderFooter=_this.renderFooter.bind(_assertThisInitialized(_this));_this.onRefresh=_this.onRefresh.bind(_assertThisInitialized(_this));_this.data=[{time:'09:00',title:'Archery Training',description:'The Beginner Archery and Beginner Crossbow course does not require you to bring any equipment, since everything you need will be provided for the course. '},{time:'10:45',title:'Play Badminton',description:'Badminton is a racquet sport played using racquets to hit a shuttlecock across a net.'},{time:'12:00',title:'Lunch'},{time:'14:00',icon:'camera',title:'Watch Soccer',description:'Team sport played between two teams of eleven players with a spherical ball. '},{time:'16:30',icon:require(\"./icon/cannabis.png\")}];_this.state={isRefreshing:false,waiting:false,data:_this.data,getTimeData:[]};return _this;}_createClass(Refresh,[{key:\"onRefresh\",value:function onRefresh(){var _this2=this;this.setState({isRefreshing:true});this.getTimeData();setTimeout(function(){_this2.setState({data:_this2.data,isRefreshing:false});},2000);}},{key:\"onEndReached\",value:function onEndReached(){var _this3=this;if(!this.state.waiting){this.setState({waiting:true});this.onRefresh();setTimeout(function(){var data=_this3.props.data.concat([{time:'18:00',title:'Load more data',description:'append event at bottom of timeline'},{time:'18:00',title:'Load more data',description:'append event at bottom of timeline'},{time:'18:00',title:'Load more data',description:'append event at bottom of timeline'},{time:'18:00',title:'Load more data',description:'append event at bottom of timeline'},{time:'18:00',title:'Load more data',description:'append event at bottom of timeline'}]);_this3.setState({waiting:false,data:data});},2000);}}},{key:\"renderFooter\",value:function renderFooter(){if(this.state.waiting){return React.createElement(ActivityIndicator,null);}else{return React.createElement(Text,null,\"~\");}}},{key:\"render\",value:function render(){return React.createElement(View,{style:styles.container},React.createElement(Timeline,{style:styles.list,data:this.state.getTimeData,circleSize:30,circleColor:\"rgb(45,156,219)\",lineColor:\"rgb(45,156,219)\",timeContainerStyle:{minWidth:52,marginTop:-5},timeStyle:{textAlign:'center',backgroundColor:'#ff9797',color:'white',padding:5,borderRadius:13},descriptionStyle:{color:'gray'},options:{style:{paddingTop:5},refreshControl:React.createElement(RefreshControl,{refreshing:this.state.isRefreshing,onRefresh:this.onRefresh}),renderFooter:this.renderFooter,onEndReached:this.onEndReached},innerCircle:'dot'}),React.createElement(StartButton,{text:\"load\",props:this.onRefresh}));}}]);return Refresh;}(Component);export{Refresh as default};var styles=StyleSheet.create({container:{flex:1,padding:10,paddingTop:20,backgroundColor:'white'},list:{flex:1,marginTop:10}});","map":{"version":3,"sources":["/home/roroblacc/Desktop/FinalApp/server/client/myComponents/setTimer.js"],"names":["React","Component","Timeline","axios","StartButton","Refresh","componentWillMount","console","log","getTimeData","data","get","then","response","setState","catch","onEndReached","bind","renderFooter","onRefresh","time","title","description","icon","require","state","isRefreshing","waiting","setTimeout","props","concat","styles","container","list","minWidth","marginTop","textAlign","backgroundColor","color","padding","borderRadius","style","paddingTop","refreshControl","StyleSheet","create","flex"],"mappings":"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","sourcesContent":["/**\n * Sample React Native App\n * https://github.com/facebook/react-native\n * @flow\n */\n\n import React, { Component } from 'react';\n import {\n   StyleSheet,\n   Text,\n   View,\n   RefreshControl,\n   ActivityIndicator\n } from 'react-native';\n import Timeline from 'react-native-timeline-flatlist'\n import axios from 'axios'\nimport StartButton from './startButton'\n \n export default class Refresh extends Component {\n   constructor(){\n     super()\n     this.onEndReached = this.onEndReached.bind(this)\n     this.renderFooter = this.renderFooter.bind(this)\n     this.onRefresh = this.onRefresh.bind(this)\n \n     this.data = [\n       {time: '09:00', title: 'Archery Training', description: 'The Beginner Archery and Beginner Crossbow course does not require you to bring any equipment, since everything you need will be provided for the course. '},\n       {time: '10:45', title: 'Play Badminton', description: 'Badminton is a racquet sport played using racquets to hit a shuttlecock across a net.'},\n       {time: '12:00', title: 'Lunch'},\n       {time: '14:00', icon:'camera',title: 'Watch Soccer', description: 'Team sport played between two teams of eleven players with a spherical ball. '},\n       {time: '16:30', icon: require('./icon/cannabis.png') }\n     ]\n \n     this.state = {\n       isRefreshing: false,      \n       waiting: false,\n       data: this.data,\n       getTimeData:[],\n\n     }\n   }\n\n   componentWillMount=() =>{\n    console.log(\"before MOunt Set Timer\")\n\n    this.getTimeData();\n\n  }\n\n    getTimeData =() =>{\n        let data;\n\n        axios.get('http://localhost:8080/api') \n        .then((response) => {\n            data = response.data\n            \n            console.log('Data has been recived');\n            // changing  the revive file for icon \n          this.setState({getTimeData:data})\n            \n\n          //   let data =data.find((o, i) => {\n          //     if (o.icon) {\n          //         arr[i] = { icon : require('./icon/cannabis.png')};\n          //         return true; // stop searching\n          //     }\n          // });\n\n          // // datas = data\n\n        })\n\n        .catch(()=>{\n            console.log('data is not recived')\n        })\n  \n         return data\n\n    }\n \n   onRefresh(){\n     this.setState({isRefreshing: true});\n     this.getTimeData();\n     //refresh to initial data\n     setTimeout(() => {\n       //refresh to initial data\n       this.setState({\n         data: this.data,\n         isRefreshing: false\n       });\n     }, 2000);\n   }\n \n   onEndReached() {\n     if (!this.state.waiting) {\n         this.setState({waiting: true});\n         this.onRefresh();\n \n         //fetch and concat data\n         setTimeout(() => {\n \n           //refresh to initial data\n           var data = this.props.data.concat(\n             [\n               {time: '18:00', title: 'Load more data', description: 'append event at bottom of timeline'},\n               {time: '18:00', title: 'Load more data', description: 'append event at bottom of timeline'},\n               {time: '18:00', title: 'Load more data', description: 'append event at bottom of timeline'},\n               {time: '18:00', title: 'Load more data', description: 'append event at bottom of timeline'},\n               {time: '18:00', title: 'Load more data', description: 'append event at bottom of timeline'}\n             ]\n             )\n \n           this.setState({\n             waiting: false,\n             data: data,\n           });\n         }, 2000);\n     }\n   }\n \n renderFooter() {\n     if (this.state.waiting) {\n         return <ActivityIndicator />;\n     } else {\n         return <Text>~</Text>;\n     }\n   }\n \n   render() {\n     //'rgb(45,156,219)'\n     return (\n       <View style={styles.container}>\n         <Timeline \n           style={styles.list}\n           data={this.state.getTimeData }\n           circleSize={30}\n           circleColor='rgb(45,156,219)'\n           lineColor='rgb(45,156,219)'\n           timeContainerStyle={{minWidth:52, marginTop: -5}}\n           timeStyle={{textAlign: 'center', backgroundColor:'#ff9797', color:'white', padding:5, borderRadius:13}}\n           descriptionStyle={{color:'gray'}}\n           options={{\n             style:{paddingTop:5},\n             refreshControl: (\n               <RefreshControl\n                 refreshing={this.state.isRefreshing}\n                 onRefresh={this.onRefresh}\n               />\n             ),\n             renderFooter: this.renderFooter,\n             onEndReached: this.onEndReached\n           }}\n           innerCircle={'dot'}\n         />\n         <StartButton text ={\"load\"}  props={this.onRefresh} />\n       </View>\n     );\n   }\n }\n \n const styles = StyleSheet.create({\n   container: {\n     flex: 1,\n     padding: 10,\n         paddingTop:20,\n     backgroundColor:'white'\n   },\n   list: {\n     flex: 1,\n     marginTop:10,\n   },\n });"]},"metadata":{},"sourceType":"module"}